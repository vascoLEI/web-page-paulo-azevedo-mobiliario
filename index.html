<!DOCTYPE html>
<html lang="pt">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paulo Azevedo Mobiliário</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="logoicon.png">
</head>

<body>
  <header>
    <nav class="navbar">
      <h1 class="logo">
        <a href="index.html">
          <img src="images/Logo.png" alt="Paulo Azevedo Mobiliário" class="logo-img">
        </a>
      </h1>
      <button class="nav-toggle" aria-label="Abrir menu">
        ☰
      </button>

      <ul class="nav-links">
        <li><a href="products.html">Produtos</a></li>
        <li><a href="about.html">Sobre nós</a></li>
        <li><a href="contacts.html">Contactos</a></li>
      </ul>
    </nav>
  </header>

  <section class="hero">
    <div class="hero-overlay">
      <div class="hero-content">
        <h2>Mobiliário • Estofos • Colchões</h2>
        <p>Soluções por medida na Póvoa de Varzim</p>
      </div>
    </div>
  </section>

  <section id="produtos" class="galeria">
    <h3>Alguns dos nossos produtos</h3>
    <p class="galeria-subtitle">Visite a loja para ver mais opções.</p>

    <div class="produtos-carousel">
      <div class="produtos-track">
        <div class="produto">
          <img src="images/espelho redondo2.jpg" alt="Espelho redondo" class="galeria-img" onclick="openLightbox(this)">
          <p>Espelho redondo</p>
        </div>

        <div class="produto">
          <img src="images/sofá com arrumação.jpg" alt="Sofá com arrumação" class="galeria-img" onclick="openLightbox(this)">
          <p>Sofá com arrumação</p>
        </div>

        <div class="produto">
          <img src="images/sala Resultado.jpg" alt="Sala" class="galeria-img" onclick="openLightbox(this)">
          <p>Sofá cinza</p>
        </div>

        <div class="produto">
          <img src="images/sofa cama resultado.jpg" alt="Sofá cama" class="galeria-img" onclick="openLightbox(this)">
          <p>Sofá</p>
        </div>

        <div class="produto">
          <img src="images/sofa Resultado (2).jpg" alt="Sofá" class="galeria-img" onclick="openLightbox(this)">
          <p>Sofá</p>
        </div>

        <div class="produto">
          <img src="images/sofa resultado (3).jpg" alt="Sofá" class="galeria-img" onclick="openLightbox(this)">
          <p>Sofá</p>
        </div>
      </div>
    </div>
  </section>

  <section class="footer-contact">
    <div class="footer-contact-inner">

      <div class="footer-col">
        <h4>Contactos</h4>
        <p>RUA ALMIRANTE REIS, 5<br>4490 - 463 PÓVOA DE VARZIM</p>
        <p>Telefone: <a href="tel:351915373158">915 373 158</a><br>
          <span class="contact-note">Chamada para a rede móvel nacional</span>
        </p>
        <p>E-mail: <a href="mailto:pauloazevedomobiliario@gmail.com">
            pauloazevedomobiliario@gmail.com
          </a></p>
      </div>

      <div class="footer-col">
        <h4>Redes sociais</h4>
        <div class="footer-socials">
          <a href="https://www.facebook.com/pauloazevedomobiliario/" target="_blank" aria-label="Facebook">
            <img src="images/facebook.webp" alt="Facebook">
          </a>
          <a href="https://www.instagram.com/paulo.azevedo.758/" target="_blank" aria-label="Instagram">
            <img src="images/Instagram.svg" alt="Instagram">
          </a>
          <a href="https://wa.me/351915373158" target="_blank" aria-label="WhatsApp">
            <img src="images/WhatsApp.png" alt="WhatsApp">
          </a>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <p>&copy; 2025 Paulo Azevedo Mobiliário</p>
  </footer>

  <!-- Handles opening and closing the image lightbox on the home page -->
  <div id="lightbox" class="lightbox" onclick="closeLightbox()">
    <img id="lightbox-img" src="" alt="Imagem ampliada do produto">
  </div>

  <script>
    // This function opens the lightbox with the clicked image
    function openLightbox(img) {
      document.getElementById('lightbox-img').src = img.src;
      document.getElementById('lightbox').style.display = 'flex';
      document.body.classList.add('lightbox-open');
    }

    // This function closes the lightbox
    function closeLightbox() {
      document.getElementById('lightbox').style.display = 'none';
      document.getElementById('lightbox-img').src = '';
      document.body.classList.remove('lightbox-open');
    }
  </script>

  <!-- Shrinks the header after scrolling past the hero section -->
  <script>
    const header = document.querySelector('header');
    const hero = document.querySelector('.hero');

    // Updates header style based on scroll position relative to hero height
    function updateHeaderOnScroll() {
      const heroHeight = hero.offsetHeight;
      const scrollY = window.scrollY || window.pageYOffset;

      if (scrollY > heroHeight - 80) {
        header.classList.add('header-small');
      } else {
        header.classList.remove('header-small');
      }
    }

    window.addEventListener('scroll', updateHeaderOnScroll);
    window.addEventListener('load', updateHeaderOnScroll);
    window.addEventListener('resize', updateHeaderOnScroll);
  </script>

  <!-- Creates automatic sliding carousel for the products on the home page -->
  <script>
    const carousel = document.querySelector('.produtos-carousel');
    const track = document.querySelector('.produtos-track');
    const slides = Array.from(track.children);

    const visibleDesktop = 3;
    let visible = 3;
    let currentIndex = 0;
    let slideStep = 0;

    // Calculates slide widths and how many are visible depending on screen size
    function recalculateSlider() {
      const isMobile = window.innerWidth <= 768;
      visible = isMobile ? 1 : visibleDesktop;

      const styles = window.getComputedStyle(track);
      const gap = parseFloat(styles.columnGap || styles.gap || 0);

      const slideRect = slides[0].getBoundingClientRect();
      slideStep = slideRect.width + gap;

      if (currentIndex > slides.length - visible) {
        currentIndex = Math.max(slides.length - visible, 0);
      }

      updateSliderPosition();
    }

    // Applies the translateX transform based on the current index
    function updateSliderPosition() {
      const offset = currentIndex * slideStep;
      track.style.transform = `translateX(-${offset}px)`;
    }

    // Moves to the next visible slide, looping back to start when reaching the end
    function goToNextSlide() {
      if (slides.length <= visible) return;

      currentIndex++;
      if (currentIndex > slides.length - visible) {
        currentIndex = 0;
      }
      updateSliderPosition();
    }

    window.addEventListener('load', () => {
      recalculateSlider();
      setInterval(goToNextSlide, 3500); // Time interval for auto-sliding products
    });

    window.addEventListener('resize', recalculateSlider);
  </script>

  <!-- Toggles the mobile navigation menu-->
  <script>
    function setupMobileMenu() {
      const toggle = document.querySelector('.nav-toggle');
      const navLinks = document.querySelector('.nav-links');
      if (!toggle || !navLinks) return;

      toggle.addEventListener('click', () => {
        navLinks.classList.toggle('open');
      });
    }

    window.addEventListener('load', () => {
      setupMobileMenu();
    });
  </script>

</body>

</html>
